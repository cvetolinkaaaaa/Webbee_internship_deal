# Webbee_internship_deal

## Инструкция по запуску
### 1) Установить maven и docker compose
### 2) Сделать clean package
### 3) docker-compose up --build
### Примечание: для смены порта, бд, логина и пароля изменения вносить в docker-compose.yaml

## Deal CRUD
### Методы для работы со сделками

| Метод | URI                   | Описание                                      |
| ----- | --------------------- | --------------------------------------------- |
| GET   | `/deal/{id}`          | Получить сделку по идентификатору             |
| PUT   | `/deal/save`          | Создать или обновить сделку (JSON в теле)     |
| PATCH | `/deal/change/status` | Изменить статус сделки (JSON в теле)          |
| POST  | `/deal/search`        | Поиск сделок по фильтру (JSON в теле)         |
| POST  | `/deal/search/export` | Экспортировать сделки в Excel (фильтр в теле) |

## Deal Contractor
### Методы для работы с контрагентами сделки
| Метод  | URI                               | Описание                                              |
| ------ | --------------------------------- | ----------------------------------------------------- |
| PUT    | `/deal-contractor/save`           | Добавить/обновить контрагента сделки (JSON в теле)    |
| DELETE | `/deal-contractor/delete?id={id}` | Логически удалить контрагента из сделки (передать id) |

## Contractor-to-Role 
### Методы для управления ролями у контрагентов
| Метод  | URI                          | Описание                                                        |
| ------ | ---------------------------- | --------------------------------------------------------------- |
| POST   | `/contractor-to-role/add`    | Добавить роль контрагенту (JSON c ID контрагента и роли)        |
| DELETE | `/contractor-to-role/delete` | Удалить роль у контрагента (contractorId и roleId в параметрах) |
